---
title: 通信达公式基础函数
tags:
  - 股票
  - 选股公式
date: 2022-01-01 22:54:23
---

**HIGH	{返回该周期最高价}**

**简写：H**



**LOW	{返回该周期最低价}**

**简写：L**



**CLOSS	{返回该周期收盘价}**

**简写：C**



**VOL	{返回该周期成交量}**

**简写：V**



**OPEN	{返回该周期开盘价}**

**简写：O**



**HHV	{求最高值}**

用法：HHV(X, N) 求 N 周期内 X 最高值，N=0 则从第一个有效值开始

例如：HHV(HIGH, 30) 表示求30日最高价



**MA {简单移动平均}**

用法：MA(X, M)  X 的 M 日简单移动平均

例如：MA(CLOSE, 5) 表示5日均线



**LLV	{求最低值}**

用法：LLV(X, N) 求 N 周期内 X 最低值，N=0 则从第一个有效值开始

例如：LLV(LOW, 0) 表示求历史最低价



PERIOD {周期类型}

用法：结果从 0 到 13，一次分别是 1/5/15/30/60 分钟，日/周/月，多分钟，多日/季/年，5秒线/多秒线，13以上为自定义周期



DATE {取得该周期从1900以来的年月日}

用法：DATE

例如：函数返回 1000101，表示2000年1月1日





COUNT	{统计满足条件的周期数}

用法：COUNT(X, N) 统计 N 周期中满足 X 条件的周期数，若 N=0 则从第一个有效值开始

例如：COUNT(CLOSE>OPEN, 20) 表示统计20周期内收阳的周期数



HHVBASS	{求上一高点到当前的周期数}



LLVBASS	{求上一低点到当前的周期}



**REF {向前引用，引用若干周期前的数据}**

用法：REF(X, A) 引用 A 周期前的 X 值

例如：REF(CLOSE, BARSCOUNT(C) - 1) 表示第二根 K 线的收盘价

REF(CLOSE, 1) 表示前一天的收盘价



REFDATE {指定引用，引用指定日期的数据}

用法：REFDATE(X, N) 统计 N 周期中 X 的总和

例如：REFDATE(CLOSE, 1011208) 表示2011年12月08日的收盘价



SUM {总和}

用法：SUM(X, N) 统计 N 周期中 X 的总和

例如：SUM(VOL, 0) 表示统计从上市第一天以来的成交量总和



FILTER {过滤连续出现的信号}



RANGE {介于某个范围之间}

用法：RANGE(A, B, C) A在B和C之间

例如：RANGE(A, B, C)  表示A大于B同时小于C时返回1，否则返回0



CROSS {上穿，两条线交叉}

用法：CROSS(A, B) 表示当A从下方向上穿过B时返回1，否则返回0

例如：CROSS(MA(CLOSE, 5), MA(CLOSE, 10)) 表示5日均线与10日均线交金叉



EXIST {存在}

用法：EXIST(CLOSE>OPEN, 10) 表示10日内存在阳线



NOT {取反，求逻辑非}

用法：NOT(X) 返回非X，当 X=0 时返回1，否则返回0

例如：NOT(ISUP) 表示平盘或收阴



IF {逻辑判断}

用法：IF(X, A, B) 若X不为0则返回A，否则返回B

例如：IF(CLOSE>OPEN, HIGH, LOW) 表示周期收阳则返回最高值，否则返回最低值



MAX {最大值}

用法：MAX(A, B) 返回A和B中的最大值

例如：MAX(CLOSE-OPEN, 0) 表示若收盘价大于开盘价返回他们的差值，否则返回0



MIN {最小值}



FINANCE(1) {总股本}



FINANCE(7) {流通股本（万股）}



CAPITAL {流通股本（手）}



FINANCE(40) {流通市值}



FINANCE(41) {总市值}



FINANCE(42) {上市日期}



说明一下，函数后面的 {} 表示注释，不影响函数运行，里面的内容即函数的定义。



标红的是频繁使用的，很重要，稍微复杂点的公式基本都会用到标红函数里面的一个或者几个。



其实通达信基础函数有很多，刚开始学习通达信公式编写，知道上面的这些都要知道定义和用法就可以，需要用到其他函数时，再去查找文档。这些函数，写的多了就都熟悉了。等基础部分都熟悉之后，有兴趣的可以把通达信公式文档里面所有的基础函数都看一下，还是很有帮助的。



> 摘自微信公众号：齐大总管
